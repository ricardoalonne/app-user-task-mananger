import{c as Ve}from"./chunk-D7Q2FOGH.js";import{a as _}from"./chunk-TU2VZQNI.js";import{A as Ie,B as Ne,C as we,D as Fe,E as Y,F as Te,G as ke,H as Ge,I as Re,J as Le,K as L,P as V,a as k,b as G,c as R,d as P,e as f,f as O,g as $,h as Q,i as z,j as J,k as K,m as W,n as X,o as ve,p as Ce,q as Se,r as xe,s as be,t as ge,u as Ee,v as _e,w as Ue,x as Me,y as ye,z as De}from"./chunk-4TE6FYTN.js";import{a as F,b as T,q as he,s as E}from"./chunk-4R3EZEY6.js";import{$a as ae,Aa as ce,Ea as h,Ga as B,K as S,La as i,Ma as v,Na as A,O as le,P as se,Pa as x,Qa as pe,Ra as j,Sc as g,Ta as I,Uc as fe,Va as N,Xc as D,Ya as ne,Za as oe,aa as l,ba as d,ia as de,ja as c,lb as H,mb as b,pa as C,qa as ue,sb as q,ua as r,ub as w,va as e,vb as y,wa as s,xa as U,ya as M}from"./chunk-D5BCA4AJ.js";var Qe=["class","dialog"],re=(()=>{let n=class n{constructor(m,o,a,p){this.dialogRef=m,this.data=o,this.userService=a,this.router=p}ngOnInit(){this.currentUser=this.data}onNoClick(){this.dialogRef.close()}onDelete(){this.userService.deleteUser(this.currentUser.id).subscribe({next:m=>{this.router.navigateByUrl("/users")},error:m=>{console.error(m)}})}};n.\u0275fac=function(o){return new(o||n)(d(we),d(Fe),d(_),d(w))},n.\u0275cmp=S({type:n,selectors:[["app-delete-user",8,"dialog"]],standalone:!0,features:[x],attrs:Qe,decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","cdkFocusInitial","","color","warn",3,"click"]],template:function(o,a){o&1&&(r(0,"h1",0),i(1),e(),r(2,"div",1),i(3,` El usuario se eliminar\xE1 y esta acci\xF3n es irreversible.
`),e(),r(4,"div",2)(5,"button",3),i(6,"Cancelar"),e(),r(7,"button",4),h("click",function(){return a.onDelete()}),i(8," Eliminar "),e()()),o&2&&(l(),A("Eliminar a ",a.currentUser.name,""))},dependencies:[b,Le,Te,ke,Re,Ge,E,g]});let t=n;return t})();function Je(t,n){t&1&&(r(0,"th",21),i(1,"Nombres"),e())}function Ke(t,n){if(t&1&&(r(0,"td",22),i(1),e()),t&2){let u=n.$implicit;l(),v(u.name)}}function We(t,n){t&1&&(r(0,"th",21),i(1,"Apellidos"),e())}function Xe(t,n){if(t&1&&(r(0,"td",22),i(1),e()),t&2){let u=n.$implicit;l(),v(u.lastName)}}function Ye(t,n){t&1&&(r(0,"th",21),i(1,"Email"),e())}function Ze(t,n){if(t&1&&(r(0,"td",22),i(1),e()),t&2){let u=n.$implicit;l(),v(u.email)}}function et(t,n){t&1&&(r(0,"th",21),i(1,"Celular"),e())}function tt(t,n){if(t&1&&(r(0,"td",22),i(1),e()),t&2){let u=n.$implicit;l(),v(u.phone)}}function it(t,n){t&1&&(r(0,"th",21),i(1," Fecha Creaci\xF3n "),e())}function rt(t,n){if(t&1&&(r(0,"td",22),i(1),I(2,"date"),e()),t&2){let u=n.$implicit;l(),A(" ",N(2,1,u.createdAt,"dd/MM/yyyy HH:mm:ss")," ")}}function nt(t,n){t&1&&(r(0,"th",21),i(1," Fecha Edici\xF3n "),e())}function ot(t,n){if(t&1&&(r(0,"td",22),i(1),I(2,"date"),e()),t&2){let u=n.$implicit;l(),A(" ",N(2,1,u.updatedAt,"dd/MM/yyyy HH:mm:ss")," ")}}function at(t,n){t&1&&s(0,"th",23)}var mt=t=>["edit",t],lt=t=>["detail",t];function st(t,n){if(t&1){let u=ce();r(0,"td",22)(1,"div",24)(2,"button",25)(3,"mat-icon"),i(4,"edit"),e()(),r(5,"button",26)(6,"mat-icon"),i(7,"visibility"),e()(),r(8,"button",27),h("click",function(){let a=le(u).$implicit,p=B();return se(p.onDelete(a))}),r(9,"mat-icon"),i(10,"delete"),e()()()()}if(t&2){let u=n.$implicit;l(2),c("routerLink",j(2,mt,u.id)),l(3),c("routerLink",j(4,lt,u.id))}}function dt(t,n){if(t&1&&(r(0,"tr",28)(1,"td",29),i(2," Sin usuarios para mostrar. "),r(3,"a",30),i(4,"Agregue"),e(),i(5," usuarios y vuelva aqu\xED. "),e()()),t&2){let u=B();l(),de("colspan",u.displayedColumns.length)}}function ut(t,n){t&1&&s(0,"tr",31)}function ct(t,n){t&1&&s(0,"tr",32)}var pt=()=>[5,10,20],Ae=(()=>{let n=class n{constructor(m,o){this.userService=m,this.dialog=o,this.users=[],this.displayedColumns=["name","lastName","email","phone","createdAt","updatedAt","actions"],this.title="Usuarios"}ngOnInit(){this.loadUsers()}loadUsers(){this.userService.getUsers().subscribe({next:m=>{this.users=m,this.dataSource=new Ie(this.users),this.paginator.length=this.users.length,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:m=>{console.error(m)}})}onDelete(m){this.dialog.open(re,{data:m}).afterClosed().subscribe(a=>{this.loadUsers()})}};n.\u0275fac=function(o){return new(o||n)(d(_),d(Y))},n.\u0275cmp=S({type:n,selectors:[["app-users-grid"]],viewQuery:function(o,a){if(o&1&&(oe(W,5),oe(X,5)),o&2){let p;ne(p=ae())&&(a.paginator=p.first),ne(p=ae())&&(a.sort=p.first)}},standalone:!0,features:[x],decls:38,vars:7,consts:[[1,"container"],[1,"header"],[1,"actions"],["mat-raised-button","","routerLink","create"],[1,"data-table"],[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["class","mat-row",4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","disabled"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"table-actions"],["mat-mini-fab","","matTooltip","Editar",3,"routerLink"],["mat-mini-fab","","matTooltip","Ver detalles",3,"routerLink"],["mat-mini-fab","","color","warn","matTooltip","Eliminar",3,"click"],[1,"mat-row"],[1,"mat-cell","empty-message"],["routerLink","/user-tasks/create"],["mat-header-row",""],["mat-row",""]],template:function(o,a){o&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),i(3),e(),r(4,"div",2)(5,"button",3)(6,"mat-icon"),i(7,"add"),e(),i(8,"Nuevo Usuario "),e()()(),r(9,"div")(10,"div",4)(11,"div",5)(12,"table",6),U(13,7),C(14,Je,2,0,"th",8)(15,Ke,2,1,"td",9),M(),U(16,10),C(17,We,2,0,"th",8)(18,Xe,2,1,"td",9),M(),U(19,11),C(20,Ye,2,0,"th",8)(21,Ze,2,1,"td",9),M(),U(22,12),C(23,et,2,0,"th",8)(24,tt,2,1,"td",9),M(),U(25,13),C(26,it,2,0,"th",8)(27,rt,3,4,"td",9),M(),U(28,14),C(29,nt,2,0,"th",8)(30,ot,3,4,"td",9),M(),U(31,15),C(32,at,1,0,"th",16)(33,st,11,6,"td",9),M(),C(34,dt,6,1,"tr",17)(35,ut,1,0,"tr",18)(36,ct,1,0,"tr",19),e()(),s(37,"mat-paginator",20),e()()()),o&2&&(l(3),v(a.title),l(9),c("dataSource",a.dataSource),l(23),c("matHeaderRowDef",a.displayedColumns),l(),c("matRowDefColumns",a.displayedColumns),l(),c("pageSizeOptions",pe(6,pt))("disabled",a.displayedColumns.length<=0))},dependencies:[b,H,E,y,g,fe,D,he,Ne,Ce,xe,_e,be,Se,Ue,ge,Ee,Me,ye,De,W,X,ve]});let t=n;return t})();var Pe=(()=>{let n=class n{constructor(m,o,a){this.formBuilder=m,this.userService=o,this.router=a,this.title="Crear Usuario"}ngOnInit(){this.formUser=this.formBuilder.group({name:["",[f.required]],lastName:["",[f.required]],email:["",[f.required,f.email]],phone:["",[f.required]]})}get controlName(){return this.formUser.get("name")}get controlLastName(){return this.formUser.get("lastName")}get controlEmail(){return this.formUser.get("email")}get controlPhone(){return this.formUser.get("phone")}onClear(){this.controlName?.setValue(""),this.controlLastName?.setValue(""),this.controlEmail?.setValue(""),this.controlPhone?.setValue("")}onSubmit(){if(this.formUser.valid){let m=this.formUser.value;this.userService.createUser(m).subscribe({next:o=>{this.router.navigateByUrl("/users")},error:o=>{console.error(o)}})}}};n.\u0275fac=function(o){return new(o||n)(d(K),d(_),d(w))},n.\u0275cmp=S({type:n,selectors:[["app-create-user"]],standalone:!0,features:[x],decls:40,vars:2,consts:[[1,"container"],[1,"header"],[1,"actions"],["mat-raised-button","","routerLink","/users"],[3,"formGroup","submit"],[1,"flex","flex-column","gap-3"],[1,"flex","align-items-center","gap-2"],[1,"w-100"],["matInput","","formControlName","name"],["matInput","","formControlName","lastName"],["matInput","","placeholder","user@example.com","formControlName","email"],["matSuffix",""],["matInput","","formControlName","phone"],[1,"flex","justify-content-between"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit"]],template:function(o,a){o&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),i(3),e(),r(4,"div",2)(5,"button",3)(6,"mat-icon"),i(7,"arrow_back"),e(),i(8,"Volver a Bandeja "),e()()(),r(9,"form",4),h("submit",function(){return a.onSubmit()}),r(10,"div",5)(11,"mat-card")(12,"mat-card-content")(13,"div",6)(14,"mat-form-field",7)(15,"mat-label"),i(16,"Nombre"),e(),s(17,"input",8),e(),r(18,"mat-form-field",7)(19,"mat-label"),i(20,"Apellido"),e(),s(21,"input",9),e()(),r(22,"div",6)(23,"mat-form-field",7)(24,"mat-label"),i(25,"Email"),e(),s(26,"input",10),r(27,"mat-icon",11),i(28,"mail"),e()(),r(29,"mat-form-field",7)(30,"mat-label"),i(31,"Celular"),e(),s(32,"input",12),r(33,"mat-icon",11),i(34,"phone"),e()()()()(),r(35,"div",13)(36,"button",14),h("click",function(){return a.onClear()}),i(37," Limpiar "),e(),r(38,"button",15),i(39," Registrar "),e()()()()()),o&2&&(l(3),v(a.title),l(6),c("formGroup",a.formUser))},dependencies:[b,E,y,g,D,F,T,V,Q,P,O,$,R,k,G,z,J,L]});let t=n;return t})();var Oe=(()=>{let n=class n{constructor(m,o,a,p){this.route=m,this.formBuilder=o,this.userService=a,this.router=p,this.title="Editar Usuario"}ngOnInit(){this.formUser=this.formBuilder.group({id:["",[f.required]],name:["",[f.required]],lastName:["",[f.required]],email:["",[f.required,f.email]],phone:["",[f.required]]});let m=this.route.snapshot.paramMap.get("id")??"";this.userService.getUserById(Number(m)).subscribe({next:o=>{this.currentUser=o,this.controlId?.setValue(this.currentUser.id),this.controlName?.setValue(this.currentUser.name),this.controlLastName?.setValue(this.currentUser.lastName),this.controlEmail?.setValue(this.currentUser.email),this.controlPhone?.setValue(this.currentUser.phone)},error:o=>{console.error(o)}})}get controlId(){return this.formUser.get("id")}get controlName(){return this.formUser.get("name")}get controlLastName(){return this.formUser.get("lastName")}get controlEmail(){return this.formUser.get("email")}get controlPhone(){return this.formUser.get("phone")}onClear(){this.controlName?.setValue(this.currentUser.name),this.controlLastName?.setValue(this.currentUser.lastName),this.controlEmail?.setValue(this.currentUser.email),this.controlPhone?.setValue(this.currentUser.phone)}onSubmit(){if(this.formUser.valid){let m=this.formUser.value;this.userService.updateUser(m.id,m).subscribe({next:o=>{this.router.navigateByUrl("/users")},error:o=>{console.error(o)}})}}};n.\u0275fac=function(o){return new(o||n)(d(q),d(K),d(_),d(w))},n.\u0275cmp=S({type:n,selectors:[["app-edit-user"]],standalone:!0,features:[x],decls:40,vars:2,consts:[[1,"container"],[1,"header"],[1,"actions"],["mat-raised-button","","routerLink","/users"],[3,"formGroup","submit"],[1,"flex","flex-column","gap-3"],[1,"flex","align-items-center","gap-2"],[1,"w-100"],["matInput","","formControlName","name"],["matInput","","formControlName","lastName"],["matInput","","placeholder","user@example.com","formControlName","email"],["matSuffix",""],["matInput","","formControlName","phone"],[1,"flex","justify-content-between"],["mat-raised-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit"]],template:function(o,a){o&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),i(3),e(),r(4,"div",2)(5,"button",3)(6,"mat-icon"),i(7,"arrow_back"),e(),i(8,"Volver a Bandeja "),e()()(),r(9,"form",4),h("submit",function(){return a.onSubmit()}),r(10,"div",5)(11,"mat-card")(12,"mat-card-content")(13,"div",6)(14,"mat-form-field",7)(15,"mat-label"),i(16,"Nombre"),e(),s(17,"input",8),e(),r(18,"mat-form-field",7)(19,"mat-label"),i(20,"Apellido"),e(),s(21,"input",9),e()(),r(22,"div",6)(23,"mat-form-field",7)(24,"mat-label"),i(25,"Email"),e(),s(26,"input",10),r(27,"mat-icon",11),i(28,"mail"),e()(),r(29,"mat-form-field",7)(30,"mat-label"),i(31,"Celular"),e(),s(32,"input",12),r(33,"mat-icon",11),i(34,"phone"),e()()()()(),r(35,"div",13)(36,"button",14),h("click",function(){return a.onClear()}),i(37," Limpiar "),e(),r(38,"button",15),i(39,"Editar"),e()()()()()),o&2&&(l(3),v(a.title),l(6),c("formGroup",a.formUser))},dependencies:[b,E,y,g,D,F,T,V,Q,P,O,$,R,k,G,z,J,L]});let t=n;return t})();function ht(t,n){if(t&1&&s(0,"app-user-tasks-grid",9),t&2){let u=B();c("userId",u.currentUser.id)}}var vt=t=>["/users/edit",t],$e=(()=>{let n=class n{constructor(m,o,a){this.route=m,this.userService=o,this.dialog=a,this.title="Detalles de Usuario",this.today=new Date}ngOnInit(){this.currentUser={id:0,name:"",lastName:"",email:"",phone:"",createdAt:this.today,updatedAt:this.today};let m=this.route.snapshot.paramMap.get("id")??"";this.userService.getUserById(Number(m)).subscribe({next:o=>{this.currentUser=o},error:o=>{console.error(o)}})}onDelete(){this.dialog.open(re,{data:this.currentUser})}};n.\u0275fac=function(o){return new(o||n)(d(q),d(_),d(Y))},n.\u0275cmp=S({type:n,selectors:[["app-user-detail"]],standalone:!0,features:[x],decls:55,vars:17,consts:[[1,"container"],[1,"header"],[1,"actions"],["mat-raised-button","","routerLink","/users"],[1,"flex","flex-column","gap-3"],[1,"flex","align-items-center","gap-2"],[1,"w-100"],["matInput","","readonly","",3,"value"],["matSuffix",""],[3,"userId"],[1,"flex","justify-content-between"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"routerLink"]],template:function(o,a){o&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),i(3),e(),r(4,"div",2)(5,"button",3)(6,"mat-icon"),i(7,"arrow_back"),e(),i(8,"Volver a Bandeja "),e()()(),r(9,"div",4)(10,"mat-card")(11,"mat-card-content")(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),i(15,"Nombre"),e(),s(16,"input",7),e(),r(17,"mat-form-field",6)(18,"mat-label"),i(19,"Apellido"),e(),s(20,"input",7),e()(),r(21,"div",5)(22,"mat-form-field",6)(23,"mat-label"),i(24,"Email"),e(),s(25,"input",7),r(26,"mat-icon",8),i(27,"mail"),e()(),r(28,"mat-form-field",6)(29,"mat-label"),i(30,"Celular"),e(),s(31,"input",7),r(32,"mat-icon",8),i(33,"phone"),e()()(),r(34,"div",5)(35,"mat-form-field",6)(36,"mat-label"),i(37,"Fecha de Creaci\xF3n"),e(),s(38,"input",7),I(39,"date"),r(40,"mat-icon",8),i(41,"event"),e()(),r(42,"mat-form-field",6)(43,"mat-label"),i(44,"Fecha de Modificaci\xF3n"),e(),s(45,"input",7),I(46,"date"),r(47,"mat-icon",8),i(48,"event"),e()()()()(),C(49,ht,1,1,"app-user-tasks-grid",9),r(50,"div",10)(51,"button",11),h("click",function(){return a.onDelete()}),i(52," Eliminar "),e(),r(53,"button",12),i(54," Editar "),e()()()()),o&2&&(l(3),v(a.title),l(13),c("value",a.currentUser.name),l(4),c("value",a.currentUser.lastName),l(5),c("value",a.currentUser.email),l(6),c("value",a.currentUser.phone),l(7),c("value",N(39,9,a.currentUser.createdAt,"dd/MM/yyyy HH:mm:ss")),l(7),c("value",N(46,12,a.currentUser.updatedAt,"dd/MM/yyyy HH:mm:ss")),l(4),ue(49,a.currentUser.id>0?49:-1),l(4),c("routerLink",j(15,vt,a.currentUser.id)))},dependencies:[b,H,E,y,g,D,F,T,V,R,k,G,L,Ve]});let t=n;return t})();var Zt=[{path:"",component:Ae},{path:"create",component:Pe},{path:"edit/:id",component:Oe},{path:"detail/:id",component:$e}];export{Zt as routes};
